<!DOCTYPE html>
<html>
    <head>
    <script src="J3DIMath.js" type="text/javascript"></script>
    <title>Particle System</title>
    </head>
    <body>
        <canvas id="gl_canvas" width="1000" height="800"></canvas>
        <script id="vertex_shader" type="x-shader/x-vertex">
            precision highp float;
            uniform mat4 modelViewProjection;
            uniform float u_time;
            attribute vec4 vertex;
            attribute vec4 initialColor;
            attribute vec3 velocity;
            attribute float startTime;
            attribute float size;

            varying vec4 v_color;

            void main() {
                vec4 v = vertex;
                float t = u_time - startTime;
                if (t >= 0.0) {
                    v_color = initialColor;
                    v.xyz += t * velocity;
                    v.y -= 9.81 * t * t;
                    gl_PointSize = size;
                } else {
                    v_color = vec4(0.0);
                }
                gl_Position = modelViewProjection * v;
            }
        </script>
        <script id="fragment_shader" type="x-shader/x-fragment">
            precision highp float;
            varying vec4 v_color;

            void main() {
                if (v_color == vec4(0.0)) {
                    discard;
                }
                gl_FragColor = v_color;
            }
        </script>
       
        <!-- include the different graphical components (ParticleGun, Environment, etc.) -->
        <script src="ParticleGun.js" type="text/javascript"></script>
        <script src="Environment.js" type="text/javascript"></script>
        
    </body>
</html>