<!DOCTYPE html>
<html>
    <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>ParticleGun</title>

    <!-- Bootstrap integration -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Basic CSS -->
    <link href="css/particleGun.css" rel="stylesheet">
    <link href="css/particleGun-responsive.css" rel="stylesheet">

    <!-- not tested, only implemented !!!-->
    <!-- crossbrowser-support addons -->
    <!--[if lt IE 9]><script src="bootstrap/js/html5shiv.js"></script> <![endif]-->
    <!--[if lte IE 8]><script src="bootstrap/js/respond.min.js"></script> <script src="bootstrap/js/excanvas.js"></script><![endif]-->
    <!--[if lte IE 7]><script src="bootstrap/js/lte-ie7.js"></script><link href="bootstrap/css/bs-ie7.css" rel="stylesheet"><![endif]-->

    </head>
    <body>
        <div class="content">
              <canvas class="canvas" id="gl_canvas"></canvas>
        </div>
        <div class="footer" >
          <div class="navigation">
            <nav class="navbar navbar-inverse">
              <div class="navbar-header">
                <a class="navbar-brand" href="#">ParticleGun</a>
              </div>
              <div class="navbar-right">
                  <ul class="nav navbar-nav">
                    <li id="water" class="active"><a href="javascript:alert('Water');"><img src="img/dropletWater.png" class="droplet"></a></li>
                    <li id="oil"><a href="javascript:alert('Oil');"><img src="img/dropletOil.png" class="droplet"></a></li>
                    <li id="lava"><a href="javascript:alert('Lava');"><img src="img/dropletLava.png" class="droplet"></a></li>
                  </ul>
              </div>
            </nav>
          </div>
        </div>

        <script id="vertex_shader" type="x-shader/x-vertex">
            precision highp float;
            uniform mat4 modelViewProjection;
            uniform float u_time;
            attribute vec4 vertex;
            attribute vec4 initialColor;
            attribute vec3 velocity;
            attribute float startTime;
            attribute float size;

            varying vec4 v_color;

            void main() {
                vec4 v = vertex;
                float t = u_time - startTime;
                if (t >= 0.0) {
                    v_color = initialColor;

                    //position considering initial speed
                    v.xyz += t * velocity;

                    //y-position considering gravity
                    v.y -= 9.81 * t * t;

                    gl_PointSize = size;
                } else {
                    v_color = vec4(0.0);
                }
                gl_Position = modelViewProjection * v;
            }
        </script>
        <script id="fragment_shader" type="x-shader/x-fragment">
            precision highp float;
            varying vec4 v_color;

            void main() {
                if (v_color == vec4(0.0)) {
                    discard;
                }
                gl_FragColor = v_color;
            }
        </script>

        <!-- JavaScript includes -->
        <!-- Libaries, graphical Components, ... -->
        <script src="lib/J3DIMath.js" type="text/javascript"></script>
        <script src="js/ParticleGun.js" type="text/javascript"></script>
        <script src="js/Environment.js" type="text/javascript"></script>
    </body>
</html>